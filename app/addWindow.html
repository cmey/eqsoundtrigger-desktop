<!DOCTYPE html>
<html lang="en">

<head>
    <title>Add Trigger</title>
    <!-- Compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
</head>

<body>
    <div class='container'>
        <form>
            <div>Add a Trigger</div>
            <div>
                <input type="text" id="character", value="Grispoil", autofocus>
                <label for="character">Enter Character Name</label>
            </div>
            <div>
                <input type="text" id="texttomatch", value="Ruen auctions">
                <label for="texttomatch">Enter Text to Match</label>
            </div>
            <div>
                <label>
                    <input type="checkbox" id="casesensitive">
                    <span>Case Sensitive Match?</span>
                </label>
            </div>

            <button class="btn waves-effect waves-light" type="submit">Add Trigger</button>
        </form>
    </div>

    <script>
        // Comms with main process.
        const electron = require('electron')
        const { ipcRenderer } = electron

        // Some vanilla javascript.
        const form = document.querySelector('form')
        form.addEventListener('submit', submitForm)
        function submitForm(event) {
            // Submits to a File by default, prevent that.
            event.preventDefault()

            const character = document.querySelector('#character').value
            const texttomatch = document.querySelector('#texttomatch').value
            const casesensitive = document.querySelector('#casesensitive').value
            ipcRenderer.send('character:add', character, texttomatch, casesensitive)
        }

        // var audio = new Audio(__dirname + '/sounds/' + "sad-trombone" + '.wav');
        var audio = new Audio(__dirname + '/sounds/' + "Aww-SoundBible.com-1421700712.mp3");
        audio.currentTime = 0;
        audio.play();
    </script>
</body>

</html>